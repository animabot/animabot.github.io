<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>ANIMA: save_untouch_slice.m Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ANIMA
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5ce0a585544ccf90f6c4541b827e0dfc.html">anima-nightly-src</a></li><li class="navelem"><a class="el" href="dir_0fad36fe10bbcca9e7c6f0593f8115a7.html">filtering</a></li><li class="navelem"><a class="el" href="dir_a8c965e58a3e16f0722aea8ebc1f2ff0.html">nyul_standardization</a></li><li class="navelem"><a class="el" href="dir_369872ed032a3cd8f5543300e1c0f96c.html">matlab_intensity_standardization</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">save_untouch_slice.m</div>  </div>
</div><!--header-->
<div class="contents">
<a href="save__untouch__slice_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;%  Save back to the back to the original <a class="code" href="load__untouch__nii_8m.html#a76db606ebe66b1a54d0e3425521586f4">image</a> <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a> portion of slices <a class="code" href="xform__nii_8m.html#ab532f211a59e750f5f2657bc5e2172ab">that</a></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;%  were loaded by <span class="stringliteral">&quot;load_untouch_nii&quot;</span>. You can process those slices matrix</div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a21a0c8f9dbc1a29f66bec35d70a2ad9d">    3</a></span>&#160;%  in any <a class="code" href="save__untouch__slice_8m.html#a21a0c8f9dbc1a29f66bec35d70a2ad9d">way</a>, <a class="code" href="xform__nii_8m.html#a9b871d477ed7a0a4dfe8ab1fc037091b">as</a> <span class="keywordtype">long</span> <a class="code" href="xform__nii_8m.html#a9b871d477ed7a0a4dfe8ab1fc037091b">as</a> their dimension is <a class="code" href="xform__nii_8m.html#a2890ce3bb7be1e5fd7e9aa65b58a2925">not</a> changed.</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;%</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;%  <a class="code" href="save__untouch__slice_8m.html#a3743321c7160ad6548f876e5b8d58136">Usage</a>: <a class="code" href="save__untouch__slice_8m.html#ac57dba84b33025ca01dad1c69c0ff2ab">save_untouch_slice</a>(slice, <a class="code" href="save__untouch__slice_8m.html#a74863b270c5b27ac757677777601e8d8">filename</a>, ...</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;%       <a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>, [<a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>], [dim5_idx], [dim6_idx], [dim7_idx])</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;%</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;%  <a class="code" href="save__untouch__slice_8m.html#a409b88b0d4a4b7661dfeb57b0527a108">Example</a>:</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a> = load_nii(<span class="stringliteral">&#39;avg152T1_LR_nifti.nii&#39;</span>);</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#a1d06331f4e4346d023a288b2dc9d94be">save_nii</a>(<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>, <span class="stringliteral">&#39;test.nii&#39;</span>);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#ad45f2c160de01032d09319b0c0635267">view_nii</a>(<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>);</div>
<div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">   12</a></span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a> = <a class="code" href="hellier__hist__normalization__gmm_8m.html#aee68761b6ed79a43586f5dc87638d130">load_untouch_nii</a>(<span class="stringliteral">&#39;test.nii&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;&#39;</span>,[40 51:53]);</div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a032479f305fb6c68a6d4c7a2cf52165a">   13</a></span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.img = ones(91,109,4)*122;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#ac57dba84b33025ca01dad1c69c0ff2ab">save_untouch_slice</a>(<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.img, <span class="stringliteral">&#39;test.nii&#39;</span>, [40 51:52]);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a> = load_nii(<span class="stringliteral">&#39;test.nii&#39;</span>);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;%   <a class="code" href="save__untouch__slice_8m.html#ad45f2c160de01032d09319b0c0635267">view_nii</a>(<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>);</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;%</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;%  - Jimmy Shen (jimmy@rotman-baycrest.on.ca)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;%</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<a class="code" href="emgm_8m.html#a67531ee5e31b1d1a3065cf637eae4546">function</a> <a class="code" href="save__untouch__slice_8m.html#ac57dba84b33025ca01dad1c69c0ff2ab">save_untouch_slice</a>(slice, <a class="code" href="save__untouch__slice_8m.html#a74863b270c5b27ac757677777601e8d8">filename</a>, <a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>, <a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>, dim5_idx, dim6_idx, dim7_idx)</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;<a class="code" href="save__untouch__slice_8m.html#a74863b270c5b27ac757677777601e8d8">filename</a>&#39;,&#39;var&#39;) | ~exist(&#39;<a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>&#39;,&#39;var&#39;)</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;<a class="code" href="save__untouch__slice_8m.html#a3743321c7160ad6548f876e5b8d58136">Usage</a>: save_untouch_slice(slice, <a class="code" href="save__untouch__slice_8m.html#a74863b270c5b27ac757677777601e8d8">filename</a>, <a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>, [<a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>], [dim5_idx], [dim6_idx], [dim7_idx])&#39;);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;   <span class="keywordflow">if</span> <a class="code" href="save__untouch__slice_8m.html#a787c424e4d752a04fd0f46f6f975e301">~exist</a>(<span class="stringliteral">&#39;img_idx&#39;</span>,<span class="stringliteral">&#39;var&#39;</span>) | isempty(<a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>)</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      <a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a> = [];</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;dim5_idx&#39;,&#39;var&#39;) | isempty(dim5_idx)</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      dim5_idx = [];</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;dim6_idx&#39;,&#39;var&#39;) | isempty(dim6_idx)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      dim6_idx = [];</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;dim7_idx&#39;,&#39;var&#39;) | isempty(dim7_idx)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      dim7_idx = [];</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;   %  Read the <a class="code" href="load__untouch__nii_8m.html#ac238b270f83f7fdcb757309812fa28c5">dataset</a> <a class="code" href="save__untouch__slice_8m.html#a5381cdd79f39b45eb8550689cc700aac">header</a></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;   %</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a5381cdd79f39b45eb8550689cc700aac">   44</a></span>&#160;   [<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.<a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.<a class="code" href="save__untouch__slice_8m.html#af5670d46d314473c1ffcefb73a9f586a">filetype</a>,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.<a class="code" href="load__nii__ext_8m.html#aff247e90c6608215c92679f8aa390e10">fileprefix</a>,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.<a class="code" href="load__nii__ext_8m.html#aaf383c3250b5ce4774d65bd6d4bd8809">machine</a>] = load_nii_hdr(<a class="code" href="save__untouch__slice_8m.html#a74863b270c5b27ac757677777601e8d8">filename</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#af5670d46d314473c1ffcefb73a9f586a">   46</a></span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.filetype == 0</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.hdr = load_untouch0_nii_hdr(<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.fileprefix,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.<a class="code" href="load__nii__ext_8m.html#aaf383c3250b5ce4774d65bd6d4bd8809">machine</a>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;   <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">   49</a></span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.hdr = load_untouch_nii_hdr(<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.fileprefix,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.machine,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.filetype);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;   %  Save the <a class="code" href="load__untouch__nii_8m.html#ac238b270f83f7fdcb757309812fa28c5">dataset</a> <a class="code" href="load__untouch__nii_8m.html#acd729e689a9087e8704c34895c175ff9">body</a></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;   %</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;   <a class="code" href="save__untouch__slice_8m.html#a2c6ac285b622ba58da74b3ad9584cb4c">save_untouch_slice_img</a>(slice,filename,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.hdr,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.filetype,<a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.fileprefix, ...</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a>.machine,<a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>,img_idx,dim5_idx,dim6_idx,dim7_idx);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;   <a class="code" href="reslice__nii_8m.html#a20e1746bf8fab881987958cd24f9cf6f">return</a>                   % <a class="code" href="save__untouch__slice_8m.html#ac57dba84b33025ca01dad1c69c0ff2ab">save_untouch_slice</a></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;%--------------------------------------------------------------------------</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<a class="code" href="emgm_8m.html#a67531ee5e31b1d1a3065cf637eae4546">function</a> <a class="code" href="save__untouch__slice_8m.html#a2c6ac285b622ba58da74b3ad9584cb4c">save_untouch_slice_img</a>(slice,filename,hdr,filetype,fileprefix,machine,slice_idx,img_idx,dim5_idx,dim6_idx,dim7_idx)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;hdr&#39;,&#39;var&#39;) | ~exist(&#39;filetype&#39;,&#39;var&#39;) | ~exist(&#39;fileprefix&#39;,&#39;var&#39;) | ~exist(&#39;machine&#39;,&#39;var&#39;)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;<a class="code" href="save__untouch__slice_8m.html#a3743321c7160ad6548f876e5b8d58136">Usage</a>: <a class="code" href="save__untouch__slice_8m.html#a2c6ac285b622ba58da74b3ad9584cb4c">save_untouch_slice_img</a>(slice,filename,hdr,filetype,fileprefix,machine,slice_idx,[img_idx],[dim5_idx],[dim6_idx],[dim7_idx]);&#39;);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;slice_idx&#39;,&#39;var&#39;) | isempty(slice_idx) | hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(4)&lt;1</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      slice_idx = [];</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;img_idx&#39;,&#39;var&#39;) | isempty(img_idx) | hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(5)&lt;1</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      img_idx = [];</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;dim5_idx&#39;,&#39;var&#39;) | isempty(dim5_idx) | hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(6)&lt;1</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      dim5_idx = [];</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;dim6_idx&#39;,&#39;var&#39;) | isempty(dim6_idx) | hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(7)&lt;1</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      dim6_idx = [];</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~exist(&#39;dim7_idx&#39;,&#39;var&#39;) | isempty(dim7_idx) | hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(8)&lt;1</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      dim7_idx = [];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;   %  check img_idx</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;   %</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(img_idx) &amp; ~isnumeric(img_idx)</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;&quot;img_idx&quot; should be <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a> numerical array.&#39;);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(unique(img_idx)) ~= <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(img_idx)</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;Duplicate <a class="code" href="load__untouch__nii_8m.html#a76db606ebe66b1a54d0e3425521586f4">image</a> index in &quot;img_idx&quot;&#39;);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(img_idx) &amp; (min(img_idx) &lt; 1 | max(img_idx) &gt; hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(5))</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a347d61cece1543bfefa69211e19404a9">max_range</a> = hdr.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(5);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a347d61cece1543bfefa69211e19404a9">  100</a></span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a347d61cece1543bfefa69211e19404a9">max_range</a> == 1</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;img_idx&quot; should be 1.&#39;]);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="save__untouch__slice_8m.html#a696955a77261efd5167a5ffef15ce32d">  103</a></span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a696955a77261efd5167a5ffef15ce32d">range</a> = [&#39;1 &#39; num2str(<a class="code" href="save__untouch__slice_8m.html#a347d61cece1543bfefa69211e19404a9">max_range</a>)];</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;img_idx&quot; should be an <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a> within the <a class="code" href="save__untouch__slice_8m.html#a696955a77261efd5167a5ffef15ce32d">range</a> of [&#39; <a class="code" href="save__untouch__slice_8m.html#a696955a77261efd5167a5ffef15ce32d">range</a> &#39;].&#39;]);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;   %  check dim5_idx</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;   %</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(dim5_idx) &amp; ~isnumeric(dim5_idx)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;&quot;dim5_idx&quot; should be <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a> numerical array.&#39;);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(unique(dim5_idx)) ~= <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(dim5_idx)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;Duplicate index in &quot;dim5_idx&quot;&#39;);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(dim5_idx) &amp; (min(dim5_idx) &lt; 1 | max(dim5_idx) &gt; hdr.dime.dim(6))</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      max_range = hdr.dime.dim(6);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> max_range == 1</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;dim5_idx&quot; should be 1.&#39;]);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;         range = [&#39;1 &#39; num2str(max_range)];</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;dim5_idx&quot; should be an <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a> within the range of [&#39; range &#39;].&#39;]);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;   %  check dim6_idx</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;   %</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(dim6_idx) &amp; ~isnumeric(dim6_idx)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;&quot;dim6_idx&quot; should be <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a> numerical array.&#39;);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(unique(dim6_idx)) ~= <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(dim6_idx)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;Duplicate index in &quot;dim6_idx&quot;&#39;);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(dim6_idx) &amp; (min(dim6_idx) &lt; 1 | max(dim6_idx) &gt; hdr.dime.dim(7))</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      max_range = hdr.dime.dim(7);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> max_range == 1</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;dim6_idx&quot; should be 1.&#39;]);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;         range = [&#39;1 &#39; num2str(max_range)];</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;dim6_idx&quot; should be an <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a> within the range of [&#39; range &#39;].&#39;]);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;   %  check dim7_idx</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;   %</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(dim7_idx) &amp; ~isnumeric(dim7_idx)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;&quot;dim7_idx&quot; should be <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a> numerical array.&#39;);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(unique(dim7_idx)) ~= <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(dim7_idx)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;Duplicate index in &quot;dim7_idx&quot;&#39;);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(dim7_idx) &amp; (min(dim7_idx) &lt; 1 | max(dim7_idx) &gt; hdr.dime.dim(8))</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      max_range = hdr.dime.dim(8);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> max_range == 1</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;dim7_idx&quot; should be 1.&#39;]);</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;         range = [&#39;1 &#39; num2str(max_range)];</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;dim7_idx&quot; should be an <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a> within the range of [&#39; range &#39;].&#39;]);</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;   %  check slice_idx</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;   %</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(slice_idx) &amp; ~isnumeric(slice_idx)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;&quot;slice_idx&quot; should be <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a> numerical array.&#39;);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(unique(slice_idx)) ~= <a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(slice_idx)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;Duplicate index in &quot;slice_idx&quot;&#39;);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> ~isempty(slice_idx) &amp; (min(slice_idx) &lt; 1 | max(slice_idx) &gt; hdr.dime.dim(4))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      max_range = hdr.dime.dim(4);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> max_range == 1</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;slice_idx&quot; should be 1.&#39;]);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;         range = [&#39;1 &#39; num2str(max_range)];</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>([&#39;&quot;slice_idx&quot; should be an <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a> within the range of [&#39; range &#39;].&#39;]);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;   <a class="code" href="save__untouch__slice_8m.html#a4687dce22775c64d8c702e46761fbd21">write_image</a>(slice,filename,hdr,filetype,fileprefix,machine,slice_idx,img_idx,dim5_idx,dim6_idx,dim7_idx);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;   <a class="code" href="reslice__nii_8m.html#a20e1746bf8fab881987958cd24f9cf6f">return</a>                   % <a class="code" href="save__untouch__slice_8m.html#a2c6ac285b622ba58da74b3ad9584cb4c">save_untouch_slice_img</a></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;%---------------------------------------------------------------------</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<a class="code" href="emgm_8m.html#a67531ee5e31b1d1a3065cf637eae4546">function</a> <a class="code" href="save__untouch__slice_8m.html#a4687dce22775c64d8c702e46761fbd21">write_image</a>(slice,<a class="code" href="load__nii__ext_8m.html#a8b378d494177e737eb4dcea877fbd3cc">fn</a>,hdr,filetype,fileprefix,machine,slice_idx,img_idx,dim5_idx,dim6_idx,dim7_idx)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;   <a class="code" href="load__nii__ext_8m.html#ae0165964eaa89921fb87522169ff860c">fid</a> = <a class="code" href="save__untouch__slice_8m.html#a1443276242125c55cd52bf7f28d26ed2">fopen</a>(fn,&#39;r+&#39;,machine);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;   <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="load__nii__ext_8m.html#ae0165964eaa89921fb87522169ff860c">fid</a> &lt; 0,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> = <a class="code" href="load__untouch0__nii__hdr_8m.html#afe8cde1eb93bd291a31f293e240100cb">sprintf</a>(&#39;Cannot open file %<a class="code" href="load__lbeig_8m.html#a1af5497f0d80ec2d3e57945765f73d8c">s</a>.&#39;,fn);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(<a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;   %  Set <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a> according to <a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;   %</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;   %  <span class="comment">/*Acceptable values for datatype are*/</span> </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;   %</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;   %     0 None                     (Unknown bit per voxel) % DT_NONE, DT_UNKNOWN </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;   %     1 Binary                         (ubit1, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=1) % DT_BINARY </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;   %     2 Unsigned <span class="keywordtype">char</span>         (uchar or uint8, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=8) % DT_UINT8, NIFTI_TYPE_UINT8 </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;   %     4 Signed <span class="keywordtype">short</span>                  (int16, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=16) % DT_INT16, NIFTI_TYPE_INT16 </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;   %     8 Signed <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a>                (int32, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=32) % DT_INT32, NIFTI_TYPE_INT32 </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;   %    16 Floating point    (single or float32, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=32) % DT_FLOAT32, NIFTI_TYPE_FLOAT32 </div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;   %    32 Complex, 2 float32      (Use float32, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=64) % DT_COMPLEX64, NIFTI_TYPE_COMPLEX64</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;   %    64 Double <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a>  (<span class="keywordtype">double</span> or float64, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=64) % DT_FLOAT64, NIFTI_TYPE_FLOAT64 </div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;   %   128 uint8 RGB                 (Use uint8, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=24) % DT_RGB24, NIFTI_TYPE_RGB24 </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   %   256 Signed <span class="keywordtype">char</span>            (schar or int8, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=8) % DT_INT8, NIFTI_TYPE_INT8 </div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;   %   511 Single RGB              (Use float32, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=96) % DT_RGB96, NIFTI_TYPE_RGB96</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;   %   512 Unsigned <span class="keywordtype">short</span>               (uint16, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=16) % DT_UNINT16, NIFTI_TYPE_UNINT16 </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;   %   768 Unsigned <a class="code" href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a>             (uint32, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=32) % DT_UNINT32, NIFTI_TYPE_UNINT32 </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;   %  1024 Signed <span class="keywordtype">long</span> <span class="keywordtype">long</span>              (int64, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=64) % DT_INT64, NIFTI_TYPE_INT64</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;   %  1280 Unsigned <span class="keywordtype">long</span> <span class="keywordtype">long</span>           (uint64, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=64) % DT_UINT64, NIFTI_TYPE_UINT64 </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;   %  1536 Long <span class="keywordtype">double</span>, float128  (Unsupported, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=128) % DT_FLOAT128, NIFTI_TYPE_FLOAT128 </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;   %  1792 Complex128, 2 float64  (Use float64, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=128) % DT_COMPLEX128, NIFTI_TYPE_COMPLEX128 </div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;   %  2048 Complex256, 2 float128 (Unsupported, <a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>=256) % DT_COMPLEX128, NIFTI_TYPE_COMPLEX128 </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;   %</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;   switch hdr.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;   <a class="code" href="save__untouch__nii_8m.html#a97ee6abe7d21ae63d3399f62a2abd639">case</a>   2,</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      hdr.dime.<a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a> = 8;  <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;uint8&#39;;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;   case   4,</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      hdr.dime.bitpix = 16; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;int16&#39;;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;   case   8,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      hdr.dime.bitpix = 32; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;int32&#39;;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;   case  16,</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;      hdr.dime.bitpix = 32; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;float32&#39;;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;   case  64,</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      hdr.dime.bitpix = 64; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;float64&#39;;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;   case 128,</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      hdr.dime.bitpix = 24; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;uint8&#39;;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;   case 256 </div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;      hdr.dime.bitpix = 8;  <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;int8&#39;;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;   case 511 </div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      hdr.dime.bitpix = 96; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;float32&#39;;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;   case 512 </div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;      hdr.dime.bitpix = 16; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;uint16&#39;;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;   case 768 </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      hdr.dime.bitpix = 32; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;uint32&#39;;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;   case 1024</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      hdr.dime.bitpix = 64; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;int64&#39;;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;   case 1280</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      hdr.dime.bitpix = 64; <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> = &#39;uint64&#39;;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;   otherwise</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(&#39;This <a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> is <a class="code" href="xform__nii_8m.html#a2890ce3bb7be1e5fd7e9aa65b58a2925">not</a> supported&#39;); </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;   hdr.dime.dim(find(hdr.dime.dim &lt; 1)) = 1;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;   %  move pointer to the start of <a class="code" href="load__untouch__nii_8m.html#a76db606ebe66b1a54d0e3425521586f4">image</a> block</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;   %</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;   switch filetype</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;   case {0, 1}</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#ab048745b66ac1019388ee1c99db4e9d7">fseek</a>(<a class="code" href="load__nii__ext_8m.html#ae0165964eaa89921fb87522169ff860c">fid</a>, 0, <span class="stringliteral">&#39;bof&#39;</span>);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;   <span class="keywordflow">case</span> 2</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#ab048745b66ac1019388ee1c99db4e9d7">fseek</a>(<a class="code" href="load__nii__ext_8m.html#ae0165964eaa89921fb87522169ff860c">fid</a>, <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.vox_offset, <span class="stringliteral">&#39;bof&#39;</span>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;   <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;   <span class="keywordflow">if</span> <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.datatype == 1 | <a class="code" href="reslice__nii_8m.html#aec73fe9e74757fd534ee3e9a7cbc8bde">isequal</a>(<a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(4:8),ones(1,5)) | ...</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    (isempty(<a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>) &amp; isempty(dim5_idx) &amp; isempty(dim6_idx) &amp; isempty(dim7_idx) &amp; isempty(<a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>))</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> = [<span class="keywordtype">char</span>(10) <a class="code" href="xform__nii_8m.html#aa49d20d5b5f190b804de61b3cc6bf12e">char</a>(10) &#39;   &quot;<a class="code" href="save__untouch__slice_8m.html#ac57dba84b33025ca01dad1c69c0ff2ab">save_untouch_slice</a>&quot; is used to <a class="code" href="save__untouch__nii_8m.html#a5acb2d0a726641d28d07836ce7824f58">save</a> back to the original <a class="code" href="load__untouch__nii_8m.html#a76db606ebe66b1a54d0e3425521586f4">image</a> <a class="code" href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a>&#39; <span class="keywordtype">char</span>(10)];</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> = [<a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> &#39;   portion of slices <a class="code" href="xform__nii_8m.html#ab532f211a59e750f5f2657bc5e2172ab">that</a> were loaded by &quot;<a class="code" href="hellier__hist__normalization__gmm_8m.html#aee68761b6ed79a43586f5dc87638d130">load_untouch_nii</a>&quot;. You can&#39; <span class="keywordtype">char</span>(10)];</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> = [<a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> &#39;   process those slices matrix in any <a class="code" href="save__untouch__slice_8m.html#a21a0c8f9dbc1a29f66bec35d70a2ad9d">way</a>, <a class="code" href="xform__nii_8m.html#a9b871d477ed7a0a4dfe8ab1fc037091b">as</a> <span class="keywordtype">long</span> <a class="code" href="xform__nii_8m.html#a9b871d477ed7a0a4dfe8ab1fc037091b">as</a> their dimension&#39; <span class="keywordtype">char</span>(10)];</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> = [<a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a> &#39;   is <a class="code" href="xform__nii_8m.html#a2890ce3bb7be1e5fd7e9aa65b58a2925">not</a> changed.&#39;];</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a>(<a class="code" href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a>);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;   <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      d1 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a>(2);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      d2 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(3);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      d3 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(4);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      d4 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(5);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      d5 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(6);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;      d6 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(7);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;      d7 = <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(8);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> isempty(<a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>)</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;         <a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a> = 1:d3;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> isempty(<a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;         <a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a> = 1:d4;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> isempty(dim5_idx)</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;         dim5_idx = 1:d5;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> isempty(dim6_idx)</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;         dim6_idx = 1:d6;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> isempty(dim7_idx)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;         dim7_idx = 1:d7;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      </div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      %ROMAN: begin</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      roman = 1;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a>(roman)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;         %  compute size of <a class="code" href="save__untouch__nii_8m.html#a0b7f34288633818cf68d423a0bc99f93">one</a> slice</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;         %</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;         img_siz = prod(<a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(2:3));</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;         %  For complex float32 or complex float64, voxel values</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;         %  include [real, imag]</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;         %</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;         <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 32 | <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 1792</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            img_siz = img_siz * 2;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;         <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;         %MPH: For RGB24, voxel values include 3 separate color planes</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;         %</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;         <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 128 | <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 511</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            img_siz = img_siz * 3;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;         <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <a class="code" href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a>; %<a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a>(roman)</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      % ROMAN: end</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      <a class="code" href="hellier__hist__normalization__gmm_8m.html#a4797586c9f191ec7ffd84e764c4c54e7">for</a> i7=1:<a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(dim7_idx)</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;         <a class="code" href="hellier__hist__normalization__gmm_8m.html#a4797586c9f191ec7ffd84e764c4c54e7">for</a> i6=1:<a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(dim6_idx)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            <a class="code" href="hellier__hist__normalization__gmm_8m.html#a4797586c9f191ec7ffd84e764c4c54e7">for</a> i5=1:<a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(dim5_idx)</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;               <a class="code" href="hellier__hist__normalization__gmm_8m.html#a4797586c9f191ec7ffd84e764c4c54e7">for</a> <a class="code" href="emgm_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>=1:<a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(<a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>)</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;               <a class="code" href="hellier__hist__normalization__gmm_8m.html#a4797586c9f191ec7ffd84e764c4c54e7">for</a> <a class="code" href="load__lbeig_8m.html#a1af5497f0d80ec2d3e57945765f73d8c">s</a>=1:<a class="code" href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a>(<a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;                  %  Position is seeked in bytes. To convert dimension size</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;                  %  to byte storage size, <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>/8 will be</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;                  %  applied.</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;                  %</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                  pos = sub2ind([d1 d2 d3 d4 d5 d6 d7], 1, 1, <a class="code" href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a>(<a class="code" href="load__lbeig_8m.html#a1af5497f0d80ec2d3e57945765f73d8c">s</a>), ...</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                <a class="code" href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a>(<a class="code" href="emgm_8m.html#aaccc9105df5383111407fd5b41255e23">t</a>), dim5_idx(i5),dim6_idx(i6),dim7_idx(i7)) -1;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                  pos = pos * <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a>/8;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                  % ROMAN: begin</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                  <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a>(roman)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                      % do nothing</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                  <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                     img_siz = prod(<a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.dim(2:3));</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                     %  For complex float32 or complex float64, voxel values</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                     %  include [real, imag]</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                     %</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                     <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 32 | <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 1792</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                        img_siz = img_siz * 2;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                     end</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                     %MPH: For RGB24, voxel values include 3 separate color planes</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                     %</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                     <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 128 | <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a> == 511</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                        img_siz = img_siz * 3;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                     end</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                  end; % <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> (roman)</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                  % ROMAN: end</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;         </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                  <a class="code" href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a> <a class="code" href="save__untouch__slice_8m.html#af5670d46d314473c1ffcefb73a9f586a">filetype</a> == 2</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                     <a class="code" href="save__nii__hdr_8m.html#ab048745b66ac1019388ee1c99db4e9d7">fseek</a>(<a class="code" href="load__nii__ext_8m.html#ae0165964eaa89921fb87522169ff860c">fid</a>, pos + <a class="code" href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a>.dime.<a class="code" href="load__nii__ext_8m.html#abfe47cd8900d418db25a9e9fdfd062ef">vox_offset</a>, &#39;bof&#39;);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                  <a class="code" href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                     <a class="code" href="save__nii__hdr_8m.html#ab048745b66ac1019388ee1c99db4e9d7">fseek</a>(fid, pos, &#39;bof&#39;);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                  end</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                  %  For each frame, <a class="code" href="save__nii__ext_8m.html#a571eb1ac5bae0c0ddbeebf4156d7539f">fwrite</a> will write <a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a> of value</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                  %  in img_siz times</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                  %</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                  <a class="code" href="save__nii__ext_8m.html#a571eb1ac5bae0c0ddbeebf4156d7539f">fwrite</a>(fid, slice(:,:,s,t,i5,i6,i7), <a class="code" href="load__untouch0__nii__hdr_8m.html#afe8cde1eb93bd291a31f293e240100cb">sprintf</a>(&#39;*%s&#39;,<a class="code" href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a>));</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                  </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;               end</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;               end</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            end</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;         end</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;      end</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;   end</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;   fclose(fid);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;   <a class="code" href="reslice__nii_8m.html#a20e1746bf8fab881987958cd24f9cf6f">return</a>                       % <a class="code" href="save__untouch__slice_8m.html#a4687dce22775c64d8c702e46761fbd21">write_image</a></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="ttc" id="reslice__nii_8m_html_a3bf3ce4ab99aef10bf19775d375feda5"><div class="ttname"><a href="reslice__nii_8m.html#a3bf3ce4ab99aef10bf19775d375feda5">dim</a></div><div class="ttdeci">if nii hdr dime dim(5) &gt; 1 for i</div></div>
<div class="ttc" id="hellier__hist__normalization__gmm_8m_html_ab66251c08e0241221a1f306f8c4760f5"><div class="ttname"><a href="hellier__hist__normalization__gmm_8m.html#ab66251c08e0241221a1f306f8c4760f5">if</a></div><div class="ttdeci">Check the ordering of the means if(mu_i_first_subset&lt; mu_i_second_subset &amp;mu_i_first_subset&lt; mu_i_third_subset) disp('The first Gaussian is the CSF')</div></div>
<div class="ttc" id="load__lbeig_8m_html_a1af5497f0d80ec2d3e57945765f73d8c"><div class="ttname"><a href="load__lbeig_8m.html#a1af5497f0d80ec2d3e57945765f73d8c">s</a></div><div class="ttdeci">s</div><div class="ttdef"><b>Definition:</b> <a href="load__lbeig_8m_source.html#l00005">load_lbeig.m:5</a></div></div>
<div class="ttc" id="xform__nii_8m_html_a9b871d477ed7a0a4dfe8ab1fc037091b"><div class="ttname"><a href="xform__nii_8m.html#a9b871d477ed7a0a4dfe8ab1fc037091b">as</a></div><div class="ttdeci">Jeff end if scl_slope field is then each voxel value in the dataset should be scaled as</div><div class="ttdef"><b>Definition:</b> <a href="xform__nii_8m_source.html#l00078">xform_nii.m:78</a></div></div>
<div class="ttc" id="save__untouch__nii_8m_html_a0b7f34288633818cf68d423a0bc99f93"><div class="ttname"><a href="save__untouch__nii_8m.html#a0b7f34288633818cf68d423a0bc99f93">one</a></div><div class="ttdeci">Save NIFTI or ANALYZE dataset that is loaded by load_untouch_nii m The output image format and file extension will be the same as the input one(NIFTI.nii, NIFTI.img or ANALYZE.img).Therefore</div></div>
<div class="ttc" id="xform__nii_8m_html_a2890ce3bb7be1e5fd7e9aa65b58a2925"><div class="ttname"><a href="xform__nii_8m.html#a2890ce3bb7be1e5fd7e9aa65b58a2925">not</a></div><div class="ttdeci">end apply space_unit to pixdim if not(mm)%space_unit</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a67c277acd4486401597eb12b7e01da82"><div class="ttname"><a href="save__untouch__slice_8m.html#a67c277acd4486401597eb12b7e01da82">nii</a></div><div class="ttdeci">nii</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00012">save_untouch_slice.m:12</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_aec73fe9e74757fd534ee3e9a7cbc8bde"><div class="ttname"><a href="reslice__nii_8m.html#aec73fe9e74757fd534ee3e9a7cbc8bde">isequal</a></div><div class="ttdeci">Jeff if isequal(preferredForm,'S') if isequal(hdr.hist.sform_code</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a21a0c8f9dbc1a29f66bec35d70a2ad9d"><div class="ttname"><a href="save__untouch__slice_8m.html#a21a0c8f9dbc1a29f66bec35d70a2ad9d">way</a></div><div class="ttdeci">Save back to the back to the original image a portion of slices that were loaded by load_untouch_nii You can process those slices matrix in any way</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00003">save_untouch_slice.m:3</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_a5f512d455013d953e6018dee349e78f6"><div class="ttname"><a href="reslice__nii_8m.html#a5f512d455013d953e6018dee349e78f6">else</a></div><div class="ttdeci">end else[img M]</div><div class="ttdef"><b>Definition:</b> <a href="reslice__nii_8m_source.html#l00109">reslice_nii.m:109</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_ad45f2c160de01032d09319b0c0635267"><div class="ttname"><a href="save__untouch__slice_8m.html#ad45f2c160de01032d09319b0c0635267">view_nii</a></div><div class="ttdeci">view_nii(nii)</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a5381cdd79f39b45eb8550689cc700aac"><div class="ttname"><a href="save__untouch__slice_8m.html#a5381cdd79f39b45eb8550689cc700aac">header</a></div><div class="ttdeci">end Read the dataset header[nii.hdr, nii.filetype, nii.fileprefix, nii.machine]</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00044">save_untouch_slice.m:44</a></div></div>
<div class="ttc" id="load__untouch__nii_8m_html_acd729e689a9087e8704c34895c175ff9"><div class="ttname"><a href="load__untouch__nii_8m.html#acd729e689a9087e8704c34895c175ff9">body</a></div><div class="ttdeci">end Read the dataset body[nii.img, nii.hdr]</div><div class="ttdef"><b>Definition:</b> <a href="load__untouch__nii_8m_source.html#l00118">load_untouch_nii.m:118</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a787c424e4d752a04fd0f46f6f975e301"><div class="ttname"><a href="save__untouch__slice_8m.html#a787c424e4d752a04fd0f46f6f975e301">~exist</a></div><div class="ttdeci">end if ~exist('img_idx','var')|isempty(img_idx) img_idx</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a347d61cece1543bfefa69211e19404a9"><div class="ttname"><a href="save__untouch__slice_8m.html#a347d61cece1543bfefa69211e19404a9">max_range</a></div><div class="ttdeci">if max_range</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00100">save_untouch_slice.m:100</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_af5670d46d314473c1ffcefb73a9f586a"><div class="ttname"><a href="save__untouch__slice_8m.html#af5670d46d314473c1ffcefb73a9f586a">filetype</a></div><div class="ttdeci">if nii filetype</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00046">save_untouch_slice.m:46</a></div></div>
<div class="ttc" id="load__nii__ext_8m_html_a8b378d494177e737eb4dcea877fbd3cc"><div class="ttname"><a href="load__nii__ext_8m.html#a8b378d494177e737eb4dcea877fbd3cc">fn</a></div><div class="ttdeci">end if new_ext fn</div><div class="ttdef"><b>Definition:</b> <a href="load__nii__ext_8m_source.html#l00042">load_nii_ext.m:42</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a1443276242125c55cd52bf7f28d26ed2"><div class="ttname"><a href="save__untouch__slice_8m.html#a1443276242125c55cd52bf7f28d26ed2">fopen</a></div><div class="ttdeci">fn,'r+', machine fopen()</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a37009b708d648f5e174b07a2a4ddb3c0"><div class="ttname"><a href="save__untouch__slice_8m.html#a37009b708d648f5e174b07a2a4ddb3c0">hdr</a></div><div class="ttdeci">else nii hdr</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00049">save_untouch_slice.m:49</a></div></div>
<div class="ttc" id="save__untouch__nii_8m_html_a97ee6abe7d21ae63d3399f62a2abd639"><div class="ttname"><a href="save__untouch__nii_8m.html#a97ee6abe7d21ae63d3399f62a2abd639">case</a></div><div class="ttdeci">end switch case</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__nii_8m_source.html#l00065">save_untouch_nii.m:65</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_afc28c3a6957baf967f87073a7ccc9d11"><div class="ttname"><a href="reslice__nii_8m.html#afc28c3a6957baf967f87073a7ccc9d11">img_idx</a></div><div class="ttdeci">end if img_idx</div><div class="ttdef"><b>Definition:</b> <a href="reslice__nii_8m_source.html#l00139">reslice_nii.m:139</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_ac57dba84b33025ca01dad1c69c0ff2ab"><div class="ttname"><a href="save__untouch__slice_8m.html#ac57dba84b33025ca01dad1c69c0ff2ab">save_untouch_slice</a></div><div class="ttdeci">save_untouch_slice(nii.img, 'test.nii', [40 51:52])</div></div>
<div class="ttc" id="load__untouch__nii_8m_html_a76db606ebe66b1a54d0e3425521586f4"><div class="ttname"><a href="load__untouch__nii_8m.html#a76db606ebe66b1a54d0e3425521586f4">image</a></div><div class="ttdeci">Load NIFTI or ANALYZE but not applying any appropriate affine geometric transform or voxel intensity scaling Although according to NIFTI all those header information are supposed to be applied to the loaded NIFTI image</div><div class="ttdef"><b>Definition:</b> <a href="load__untouch__nii_8m_source.html#l00001">load_untouch_nii.m:1</a></div></div>
<div class="ttc" id="save__nii__hdr_8m_html_ab048745b66ac1019388ee1c99db4e9d7"><div class="ttname"><a href="save__nii__hdr_8m.html#ab048745b66ac1019388ee1c99db4e9d7">fseek</a></div><div class="ttdeci">fid, 0,'bof' fseek()</div></div>
<div class="ttc" id="load__nii__ext_8m_html_abfe47cd8900d418db25a9e9fdfd062ef"><div class="ttname"><a href="load__nii__ext_8m.html#abfe47cd8900d418db25a9e9fdfd062ef">vox_offset</a></div><div class="ttdeci">vox_offset</div><div class="ttdef"><b>Definition:</b> <a href="load__nii__ext_8m_source.html#l00058">load_nii_ext.m:58</a></div></div>
<div class="ttc" id="save__untouch__nii_8m_html_a5acb2d0a726641d28d07836ce7824f58"><div class="ttname"><a href="save__untouch__nii_8m.html#a5acb2d0a726641d28d07836ce7824f58">save</a></div><div class="ttdeci">save(fileprefix, 'M')</div></div>
<div class="ttc" id="emgm_8m_html_aa536745b29be7cb86f06124adedc5cc8"><div class="ttname"><a href="emgm_8m.html#aa536745b29be7cb86f06124adedc5cc8">integer</a></div><div class="ttdeci">the labels are integer</div><div class="ttdef"><b>Definition:</b> <a href="emgm_8m_source.html#l00001">emgm.m:1</a></div></div>
<div class="ttc" id="load__untouch__nii_8m_html_ac238b270f83f7fdcb757309812fa28c5"><div class="ttname"><a href="load__untouch__nii_8m.html#ac238b270f83f7fdcb757309812fa28c5">dataset</a></div><div class="ttdeci">Load NIFTI or ANALYZE dataset</div><div class="ttdef"><b>Definition:</b> <a href="load__untouch__nii_8m_source.html#l00001">load_untouch_nii.m:1</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a696955a77261efd5167a5ffef15ce32d"><div class="ttname"><a href="save__untouch__slice_8m.html#a696955a77261efd5167a5ffef15ce32d">range</a></div><div class="ttdeci">else range</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00103">save_untouch_slice.m:103</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a66d218217ab323d78ecef66c7ba09a3d"><div class="ttname"><a href="save__untouch__slice_8m.html#a66d218217ab323d78ecef66c7ba09a3d">error</a></div><div class="ttdeci">'Usage:save_untouch_slice(slice, filename, slice_idx,[img_idx],[dim5_idx],[dim6_idx],[dim7_idx] error()</div></div>
<div class="ttc" id="xform__nii_8m_html_aa49d20d5b5f190b804de61b3cc6bf12e"><div class="ttname"><a href="xform__nii_8m.html#aa49d20d5b5f190b804de61b3cc6bf12e">char</a></div><div class="ttdeci">bitset(hdr.dime.xyzt_units, 1, 0 char()</div></div>
<div class="ttc" id="save__nii__hdr_8m_html_abe25a0a67ab3a020254ee96cb3a360d5"><div class="ttname"><a href="save__nii__hdr_8m.html#abe25a0a67ab3a020254ee96cb3a360d5">msg</a></div><div class="ttdeci">if msg</div><div class="ttdef"><b>Definition:</b> <a href="save__nii__hdr_8m_source.html#l00056">save_nii_hdr.m:56</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a2c6ac285b622ba58da74b3ad9584cb4c"><div class="ttname"><a href="save__untouch__slice_8m.html#a2c6ac285b622ba58da74b3ad9584cb4c">save_untouch_slice_img</a></div><div class="ttdeci">end Save the dataset body save_untouch_slice_img(slice, filename, nii.hdr, nii.filetype, nii.fileprefix,...nii.machine, slice_idx, img_idx, dim5_idx, dim6_idx, dim7_idx)</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a706b80f8d6a58d25b3b0e0821fd2d2a1"><div class="ttname"><a href="save__untouch__slice_8m.html#a706b80f8d6a58d25b3b0e0821fd2d2a1">length</a></div><div class="ttdeci">end if length(unique(img_idx))~</div></div>
<div class="ttc" id="emgm_8m_html_a67531ee5e31b1d1a3065cf637eae4546"><div class="ttname"><a href="emgm_8m.html#a67531ee5e31b1d1a3065cf637eae4546">function</a></div><div class="ttdeci">function[label, model, llh]</div><div class="ttdef"><b>Definition:</b> <a href="emgm_8m_source.html#l00001">emgm.m:1</a></div></div>
<div class="ttc" id="load__nii__ext_8m_html_ae0165964eaa89921fb87522169ff860c"><div class="ttname"><a href="load__nii__ext_8m.html#ae0165964eaa89921fb87522169ff860c">fid</a></div><div class="ttdeci">end end fid</div><div class="ttdef"><b>Definition:</b> <a href="load__nii__ext_8m_source.html#l00057">load_nii_ext.m:57</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_a541df6bf052f2efc7a949725e1c247f6"><div class="ttname"><a href="reslice__nii_8m.html#a541df6bf052f2efc7a949725e1c247f6">datatype</a></div><div class="ttdeci">nii hdr dime datatype</div><div class="ttdef"><b>Definition:</b> <a href="reslice__nii_8m_source.html#l00115">reslice_nii.m:115</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_aea3be3c01dd94cebb9dc2f7684a43d84"><div class="ttname"><a href="save__untouch__slice_8m.html#aea3be3c01dd94cebb9dc2f7684a43d84">slice_idx</a></div><div class="ttdeci">Save back to the back to the original image a portion of slices that were loaded by load_untouch_nii You can process those slices matrix in any as long as their dimension is not changed slice_idx</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00003">save_untouch_slice.m:3</a></div></div>
<div class="ttc" id="xform__nii_8m_html_ab532f211a59e750f5f2657bc5e2172ab"><div class="ttname"><a href="xform__nii_8m.html#ab532f211a59e750f5f2657bc5e2172ab">that</a></div><div class="ttdeci">after we figure out the angles and squash them to closest rectilinear direction After that</div><div class="ttdef"><b>Definition:</b> <a href="xform__nii_8m_source.html#l00389">xform_nii.m:389</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a1d06331f4e4346d023a288b2dc9d94be"><div class="ttname"><a href="save__untouch__slice_8m.html#a1d06331f4e4346d023a288b2dc9d94be">save_nii</a></div><div class="ttdeci">save_nii(nii, 'test.nii')</div></div>
<div class="ttc" id="emgm_8m_html_aaccc9105df5383111407fd5b41255e23"><div class="ttname"><a href="emgm_8m.html#aaccc9105df5383111407fd5b41255e23">t</a></div><div class="ttdeci">t</div><div class="ttdef"><b>Definition:</b> <a href="emgm_8m_source.html#l00018">emgm.m:18</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a4687dce22775c64d8c702e46761fbd21"><div class="ttname"><a href="save__untouch__slice_8m.html#a4687dce22775c64d8c702e46761fbd21">write_image</a></div><div class="ttdeci">end end write_image(slice, filename, hdr, filetype, fileprefix, machine, slice_idx, img_idx, dim5_idx, dim6_idx, dim7_idx)</div></div>
<div class="ttc" id="load__nii__ext_8m_html_aff247e90c6608215c92679f8aa390e10"><div class="ttname"><a href="load__nii__ext_8m.html#aff247e90c6608215c92679f8aa390e10">fileprefix</a></div><div class="ttdeci">fileprefix</div><div class="ttdef"><b>Definition:</b> <a href="load__nii__ext_8m_source.html#l00030">load_nii_ext.m:30</a></div></div>
<div class="ttc" id="hellier__hist__normalization__gmm_8m_html_a4797586c9f191ec7ffd84e764c4c54e7"><div class="ttname"><a href="hellier__hist__normalization__gmm_8m.html#a4797586c9f191ec7ffd84e764c4c54e7">for</a></div><div class="ttdeci">for(jj=1:length(first_subset)) if(first_subset(jj)&lt; mu_i_first_subset) standardized_hist(jj)</div></div>
<div class="ttc" id="save__nii__ext_8m_html_a571eb1ac5bae0c0ddbeebf4156d7539f"><div class="ttname"><a href="save__nii__ext_8m.html#a571eb1ac5bae0c0ddbeebf4156d7539f">fwrite</a></div><div class="ttdeci">fid, ext.extension, 'uchar' fwrite()</div></div>
<div class="ttc" id="load__untouch0__nii__hdr_8m_html_afe8cde1eb93bd291a31f293e240100cb"><div class="ttname"><a href="load__untouch0__nii__hdr_8m.html#afe8cde1eb93bd291a31f293e240100cb">sprintf</a></div><div class="ttdeci">'%s.hdr', fileprefix sprintf()</div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a409b88b0d4a4b7661dfeb57b0527a108"><div class="ttname"><a href="save__untouch__slice_8m.html#a409b88b0d4a4b7661dfeb57b0527a108">Example</a></div><div class="ttdeci">Save back to the back to the original image a portion of slices that were loaded by load_untouch_nii You can process those slices matrix in any as long as their dimension is not changed Example</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00003">save_untouch_slice.m:3</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a3743321c7160ad6548f876e5b8d58136"><div class="ttname"><a href="save__untouch__slice_8m.html#a3743321c7160ad6548f876e5b8d58136">Usage</a></div><div class="ttdeci">Save back to the back to the original image a portion of slices that were loaded by load_untouch_nii You can process those slices matrix in any as long as their dimension is not changed Usage</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00003">save_untouch_slice.m:3</a></div></div>
<div class="ttc" id="save__untouch__slice_8m_html_a74863b270c5b27ac757677777601e8d8"><div class="ttname"><a href="save__untouch__slice_8m.html#a74863b270c5b27ac757677777601e8d8">filename</a></div><div class="ttdeci">Save back to the back to the original image a portion of slices that were loaded by load_untouch_nii You can process those slices matrix in any as long as their dimension is not changed filename</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__slice_8m_source.html#l00003">save_untouch_slice.m:3</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_a1ede835792071dff91c0e008e7c3b16a"><div class="ttname"><a href="reslice__nii_8m.html#a1ede835792071dff91c0e008e7c3b16a">a</a></div><div class="ttdeci">end else a</div><div class="ttdef"><b>Definition:</b> <a href="reslice__nii_8m_source.html#l00226">reslice_nii.m:226</a></div></div>
<div class="ttc" id="hellier__hist__normalization__gmm_8m_html_aee68761b6ed79a43586f5dc87638d130"><div class="ttname"><a href="hellier__hist__normalization__gmm_8m.html#aee68761b6ed79a43586f5dc87638d130">load_untouch_nii</a></div><div class="ttdeci">file_mask_template load_untouch_nii()</div></div>
<div class="ttc" id="load__nii__ext_8m_html_aaf383c3250b5ce4774d65bd6d4bd8809"><div class="ttname"><a href="load__nii__ext_8m.html#aaf383c3250b5ce4774d65bd6d4bd8809">machine</a></div><div class="ttdeci">end machine</div><div class="ttdef"><b>Definition:</b> <a href="load__nii__ext_8m_source.html#l00025">load_nii_ext.m:25</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_a20e1746bf8fab881987958cd24f9cf6f"><div class="ttname"><a href="reslice__nii_8m.html#a20e1746bf8fab881987958cd24f9cf6f">return</a></div><div class="ttdeci">return</div><div class="ttdef"><b>Definition:</b> <a href="reslice__nii_8m_source.html#l00129">reslice_nii.m:129</a></div></div>
<div class="ttc" id="reslice__nii_8m_html_ae9a659ee1c9ae19c4f8c8c8c9aa072c0"><div class="ttname"><a href="reslice__nii_8m.html#ae9a659ee1c9ae19c4f8c8c8c9aa072c0">bitpix</a></div><div class="ttdeci">nii hdr dime bitpix</div><div class="ttdef"><b>Definition:</b> <a href="reslice__nii_8m_source.html#l00116">reslice_nii.m:116</a></div></div>
<div class="ttc" id="save__untouch__nii_8m_html_ab23e7a0f6c1599a6a1db0e536c93284b"><div class="ttname"><a href="save__untouch__nii_8m.html#ab23e7a0f6c1599a6a1db0e536c93284b">precision</a></div><div class="ttdeci">precision</div><div class="ttdef"><b>Definition:</b> <a href="save__untouch__nii_8m_source.html#l00066">save_untouch_nii.m:66</a></div></div>
<div class="ttc" id="load__nii__img_8m_html_a0e58fe5bf1f468ebd8ae6b3620a52472"><div class="ttname"><a href="load__nii__img_8m.html#a0e58fe5bf1f468ebd8ae6b3620a52472">end</a></div><div class="ttdeci">end end[img, hdr]</div><div class="ttdef"><b>Definition:</b> <a href="load__nii__img_8m_source.html#l00115">load_nii_img.m:115</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 11 2014 15:55:49 for ANIMA by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
